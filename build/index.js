!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Channeler",[],t):"object"==typeof exports?exports.Channeler=t():e.Channeler=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4).newGuid;t.MessageSymbol="__channeler__";var o=function(){function e(e,n){var o=this;this.type=e,this.id=n,this.symbol=t.MessageSymbol,this.id=n||r(),this.promise=new Promise(function(e,t){o.resolve=e,o.reject=t})}return e.prototype.toJSON=function(){return{id:this.id,type:this.type,symbol:this.symbol}},e}();t.Message=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.invoke="invoke",e.return="return",e.execute="execute"}(t.MessageType||(t.MessageType={}))},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){function o(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,i){function u(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(u,s)}c((r=r.apply(e,t||[])).next())})},u=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,i&&(u=2&n[0]?i.return:n[0]?i.throw||((u=i.return)&&u.call(i),0):i.next)&&!(u=u.call(i,n[1])).done)return u;switch(i=0,u&&(n=[2&n[0],u.value]),n[0]){case 0:case 1:u=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,i=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(u=c.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){c.label=n[1];break}if(6===n[0]&&c.label<u[1]){c.label=u[1],u=n;break}if(u&&c.label<u[2]){c.label=u[2],c.ops.push(n);break}u[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],i=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,u,s,c={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var s=n(13),c=n(3),a=n(5),f=n(7),p=n(6),l=n(0),h=n(1),y=n(8),v=n(4),g=v.getByPath,d=v.setByPath,b=function(t){function n(e){void 0===e&&(e={});var n=t.call(this)||this;return n.pendings={},n.parse=function(e){try{return JSON.parse(e)}catch(e){return null}},n.onMessageReceived=function(e){var t=p.isString(e)?e:e.data;if(t){var r=n.parse(t);if(r&&l.MessageSymbol===r.symbol&&n.checkMessage(r,e))switch(r.type){case h.MessageType.return:n.onReturnMessageReceived(r);break;case h.MessageType.invoke:n.onInvokeMessageReceived(r);break;case h.MessageType.execute:n.onExecuteMessageReceived(r)}}},n.onReturnMessageReceived=function(e){var t=e.id,r=e.result,o=e.error,i=n.pendings[t];o?i.reject(new a.InvokeError(o).toError()):i.resolve(r),n.pendings[t]=null,delete n.pendings[t]},n.onInvokeMessageReceived=function(e){return i(n,void 0,void 0,function(){var t,n,r,o,i,s,c,f,l,h,v;return u(this,function(u){switch(u.label){case 0:t=e.id,n=e.path,r=e.args,o=void 0===r?[]:r,u.label=1;case 1:return u.trys.push([1,10,,11]),[4,g(this.context,n)];case 2:return c=u.sent(),p.isFunction(c)?(f=n.split("."),f.pop(),[4,g(this.context,f.join("."))]):[3,5];case 3:return l=u.sent(),[4,c.apply(l,o)];case 4:return s=u.sent(),[3,9];case 5:return o&&o.length>0?[4,d(this.context,n,o[0])]:[3,7];case 6:return s=u.sent(),[3,9];case 7:return[4,g(this.context,n)];case 8:s=u.sent(),u.label=9;case 9:return[3,11];case 10:return h=u.sent(),i=new a.InvokeError(h),[3,11];case 11:return v=new y.ReturnMessage(i||s,t),this.send(v),[2]}})})},n.onExecuteMessageReceived=function(e){return i(n,void 0,void 0,function(){var t,n,r,o,i,s,c,f;return u(this,function(u){switch(u.label){case 0:t=e.id,n=e.code,r=e.params,u.label=1;case 1:return u.trys.push([1,3,,4]),s=new Function("$","return ("+n+").call(this,$)"),[4,s.call(this.context,r)];case 2:return i=u.sent(),[3,4];case 3:return c=u.sent(),o=new a.InvokeError(c),[3,4];case 4:return f=new y.ReturnMessage(o||i,t),this.send(f),[2]}})})},n.invoke=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var o=new f.InvokeMessage(e,t);return n.pendings[o.id]=o,n.send(o),o.promise},n.execute=function(e,t){void 0===t&&(t={});var r=new c.ExecuteMessage(e.toString(),t);return n.pendings[r.id]=r,n.send(r),r.promise},n.init(e),n}return r(n,t),n.prototype.init=function(t){var n=o({},t),r=n.receiver,i=n.sender,u=n.context;this.receiver=r||e.process||e,this.sender=i||r,this.context=u||e,this.bindMessageReceived()},n.prototype.bindMessageReceived=function(){(this.receiver.addEventListener||this.receiver.on).call(this.receiver,"message",this.onMessageReceived,!1)},n.prototype.checkMessage=function(e,t){return!!e&&!!t},n.prototype.stringify=function(e){return JSON.stringify(e)},n.prototype.send=function(e){var t=this.stringify(e);return this.sender.postMessage?this.sender.postMessage(t,"*"):this.sender.send?this.sender.send(t):void 0},n}(s.EventEmitter);t.Channel=b}).call(t,n(12))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(1),s=function(e){function t(t,n){void 0===n&&(n={});var r=e.call(this,u.MessageType.execute)||this;return r.code=t,r.params=n,r}return r(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return o({code:this.code,params:this.params},t)},t}(i.Message);t.ExecuteMessage=s},function(e,t,n){"use strict";function r(){}function o(e){return Object.prototype.toString.call(e)}function i(e){return/^\[object (.+)\]$/i.exec(o(e))[1]}function u(e){return void 0===e||null===e}function s(e){return u(e)?e:e.trim?e.trim():e.replace(/(^[\\s]*)|([\\s]*$)/g,"")}function c(e,t,n){return u(e)?e:e.replace(new RegExp(t,"g"),n)}function a(e,t){return!u(e)&&!u(t)&&0===e.indexOf(t)}function f(e,t){return!u(e)&&!u(t)&&e.indexOf(t)>-1}function p(e,t){return!u(e)&&!u(t)&&e.indexOf(t)===e.length-t.length}function l(e,t){return!u(e)&&!u(t)&&(t in e||e.hasOwnProperty(t))}function h(e){return!u(e)&&"function"==typeof e}function y(e){return!u(e)&&"AsyncFunction"===i(e)}function v(e){return!u(e)&&"GeneratorFunction"===i(e)}function g(e){return!u(e)&&"String"===i(e)}function d(e){return!u(e)&&"Number"===i(e)}function b(e){return!u(e)&&"Boolean"===i(e)}function m(e){return!u(e)&&(window.Element?e instanceof Element:e.tagName&&e.nodeType&&e.nodeName&&e.attributes&&e.ownerDocument)}function w(e){return!u(e)&&e instanceof Text}function O(e){if(u(e))return!1;var t=i(e);return"Object"===t||"Array"===t}function _(e){if(u(e))return!1;var t="Array"===i(e),n=e instanceof Array,r=!g(e)&&d(e.length)&&h(e.splice),o=!g(e)&&d(e.length)&&e[0];return t||n||r||o}function j(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function x(e){return!u(e)&&e instanceof Date}function E(e){return e instanceof RegExp}function P(e){return u(e)?[]:Array.prototype.slice.call(e)}function M(e){return d(e)?new Date(e):x(e)?e:h(e)?new Date(e()):W(e)?new Date(q(e)()):g(e)?new Date(c(c(e,"-","/"),"T"," ")):null}function S(e,t,n){if(!u(e)&&!u(t))if(_(e))for(var r=e.length,o=0;o<r;o++){var i=t.call(n||e[o],o,e[o]);if(!u(i))return i}else for(var s in e){var i=t.call(n||e[s],s,e[s]);if(!u(i))return i}}function T(e,t,n){if(u(t)||u(e))return e;e=M(e),n=n||{};var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"w+":e.getDay(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in r)if(new RegExp("("+o+")").test(t)){var i=r[o];i=n[i]||i,t=t.replace(RegExp.$1,1==RegExp.$1.length?i:("00"+i).substr((""+i).length))}return t}function L(e,t,n){return t=t||(_(e)?[]:{}),S(e,function(r){if(!(n&&n.indexOf(r)>-1))if(delete t[r],Object.getOwnPropertyDescriptor)try{Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}catch(n){t[r]=e[r]}else t[r]=e[r]}),t}function k(e,t){if(u(e)||g(e)||d(e)||b(e)||x(e))return e;if(j(e))return e.slice();var n=e;try{n=new e.constructor}catch(e){}return S(e,function(e,r){n[e]==r||f(t,e)||(O(r)?n[e]=k(r,t):n[e]=r)}),["toString","valueOf"].forEach(function(r){f(t,r)||C(n,r,e[r])}),n}function R(e,t,n,r,o){if(r)switch(r){case 1:return R(e.prototype,t.prototype,n,0);case 2:R(e.prototype,t.prototype,n,0);break;case 3:return R(e,t.prototype,n,0);case 4:return R(e.prototype,t,n,0)}return t=t||{},e=e||(_(t)?[]:{}),N(t).forEach(function(r){f(n,r)||o&&u(t[r])||(!O(t[r])||t[r].constructor!=Object&&t[r].constructor!=Array&&null!=t[r].constructor?e[r]=t[r]:e[r]=R(e[r],t[r],n,0,o))}),e}function C(e,t,n){if(arguments.length<1)throw new Error("Parameter missing");if(arguments.length<2)return S(e,function(t,n){C(e,t,n)});if(arguments.length<3)return C(e,t,e[t]);try{Object.defineProperty(e,t,{get:function(){return n},set:function(){throw new Error("Cannot assign to final property:"+t)},enumerable:!1,configurable:!1})}catch(r){e[t]=n}}function N(e){if(Object.keys)return Object.keys(e);var t=[];return S(e,function(e){t.push(e)}),t}function A(e,t){function n(){}if(Object.create)return Object.create(e,t);n.prototype=e;var r=new n;return t&&L(t,r),r}function F(e,t){if(Object.setPrototypeOf)return Object.setPrototypeOf(e,t||A(null));"__proto__"in Object||L(t,e),e.__proto__=t}function D(e){return e.__proto__?e.__proto__:Object.getPrototypeOf?Object.getPrototypeOf(e):e.constructor?e.constructor.prototype:void 0}function z(e,t){if(e===t)return!0;if(!O(e)||!O(t))return!1;var n=N(e),r=N(t);if(n.length!==r.length)return!1;var o=n.concat(r),i=A(null),u=!0;return S(o,function(n,r){i[r]||(z(e[r],t[r])||(u=!1),i[r]=!0)}),u}function $(e,t,n,r){if(r||(r=[n,n=r][0]),n=Math.abs(n||1),e<t)for(var o=e;o<=t;o+=n)r(o);else for(var o=e;o>=t;o-=n)r(o)}function I(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function J(e,t){var n=_(e)?[]:{};return S(e,function(e,r){n[e]=t(e,r)}),n}function U(e,t,n){u(e)||u(t)||""===t||(_(t)||(t=t.replace(/\[/,".").replace(/\]/,".").split(".")),S(t,function(r,o){u(o)||o.length<1||(r===t.length-1?e[o]=n:(e[o]=e[o]||{},e=e[o]))}))}function B(e,t,n){return u(e)||u(t)||""===t?e:(_(t)||(t=t.replace(/\[/,".").replace(/\]/,".").split(".")),S(t,function(t,r){u(e)||u(r)||r.length<1||(e=n?n(e[r],r,e):e[r])}),e)}function G(e){if(u(e))return e;var t=[];return S(e,function(e,n){t.indexOf(n)>-1||t.push(n)}),t}function H(e){if(!e)return[];var t=e.toString(),n=t.split(")")[0].split("=>")[0].split("(");return(n[1]||n[0]).split(",").map(function(e){return s(e)}).filter(function(e){return"function"!=e})}function W(e){return te.test(e)}function q(e){var t=te.exec(e);if(t&&!(t.length<3)){var n=t[1].split(",").filter(function(e){return!!e}).map(function(e){return e.trim()}),r=t[2];return new(Function.bind.apply(Function,[void 0].concat(n,[r])))}}function Z(e,t){if(!e)return e;t=t||40;var n=e.length,r=t/2;return n>t?e.substr(0,r)+"..."+e.substr(n-r):e}function K(e){return g(e)?e.substring(0,1).toUpperCase()+e.substring(1):""}function V(e){return g(e)?e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"):""}function Y(e,t){return g(e)?(e&&(e=e.replace(/\-[a-z0-9]/g,function(e){return e.slice(1).toUpperCase()}),e=e.replace(/^[a-z]/i,function(e){return t?e.toUpperCase():e.toLowerCase()})),e):""}function Q(e){return g(e)?(e&&(e=e.replace(/([A-Z])/g,"-$1"),"-"==e[0]&&(e=e.slice(1))),e.toLowerCase()):""}function X(e){var t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi;return e.replace(t,"<$1></$2>")}function ee(e){e=e||" ";var t=document.createElement("div");t.innerHTML=X(s(e));var n=P(t.childNodes);return S(n,function(e,n){t.removeChild(n)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=r,t.toString=o,t.getType=i,t.isNull=u,t.trim=s,t.replace=c,t.startWith=a,t.contains=f,t.endWith=p,t.has=l,t.hasProperty=l,t.isFunction=h,t.isAsyncFunction=y,t.isGeneratorFunction=v,t.isString=g,t.isNumber=d,t.isBoolean=b,t.isElement=m,t.isText=w,t.isObject=O,t.isArray=_,t.isTypedArray=j,t.isDate=x,t.isRegexp=E,t.toArray=P,t.toDate=M,t.each=S,t.formatDate=T,t.copy=L,t.clone=k,t.mix=R,t.final=C,t.keys=N,t.create=A,t.setPrototypeOf=F,t.getPrototypeOf=D,t.deepEqual=z,t.fromTo=$,t.newGuid=I,t.map=J,t.setByPath=U,t.getByPath=B,t.unique=G,t.getFunctionArgumentNames=H;var te=/^function\s*\(([\s\S]*?)\)\s*\{([\s\S]*?)\}$/i;t.isFunctionString=W,t.toFunction=q,t.short=Z,t.firstUpper=K,t.escapeRegExp=V,t.toCamelCase=Y,t.toSplitCase=Q,t.htmlPrefilter=X,t.parseHTML=ee,n(14)([117,95,111,28,107,55,96,100,102,88,86,96,33,98,99,95,82,83,96,95,38,90,15,14,87,20,85,80,68,86,71,79,81,75,254,25,253,62,58,74,78,63,67,246,249,248,65,254,50,69,49,244,244,248,50,54,43,43,61,19,41,234,227,46,36,56,37,29,221,227,247,229,232,220,219,36,225,23,41,25,35,214,214])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=function(){function e(e){this.error=r.isString(e)?new Error(e):e}return Object.defineProperty(e.prototype,"name",{get:function(){return this.error.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.error.message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stack",{get:function(){return this.error.stack},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){var e=this.error;return{name:e.name,message:e.message,stack:e.stack}},e.prototype.toError=function(){return new Error(this.message)},e}();t.InvokeError=o,Object.setPrototypeOf(o.prototype,Error.prototype)},function(e,t,n){(function(e){function r(e,n){var r={seen:[],stylize:i};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&t._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),s(r,e,r.depth)}function o(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function i(e,t){return e}function u(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function s(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return b(o)||(o=s(e,o,r)),o}var i=c(e,n);if(i)return i;var y=Object.keys(n),v=u(y);if(e.showHidden&&(y=Object.getOwnPropertyNames(n)),x(n)&&(y.indexOf("message")>=0||y.indexOf("description")>=0))return a(n);if(0===y.length){if(E(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(O(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(j(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return a(n)}var d="",m=!1,w=["{","}"];if(h(n)&&(m=!0,w=["[","]"]),E(n)){d=" [Function"+(n.name?": "+n.name:"")+"]"}if(O(n)&&(d=" "+RegExp.prototype.toString.call(n)),j(n)&&(d=" "+Date.prototype.toUTCString.call(n)),x(n)&&(d=" "+a(n)),0===y.length&&(!m||0==n.length))return w[0]+d+w[1];if(r<0)return O(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var _;return _=m?f(e,n,r,v,y):y.map(function(t){return p(e,n,r,v,t,m)}),e.seen.pop(),l(_,d,w)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return d(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,o){for(var i=[],u=0,s=t.length;u<s;++u)L(t,String(u))?i.push(p(e,t,n,r,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))}),i}function p(e,t,n,r,o,i){var u,c,a;if(a=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},a.get?c=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(c=e.stylize("[Setter]","special")),L(r,o)||(u="["+o+"]"),c||(e.seen.indexOf(a.value)<0?(c=v(n)?s(e,a.value,null):s(e,a.value,n-1),c.indexOf("\n")>-1&&(c=i?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n"))):c=e.stylize("[Circular]","special")),w(u)){if(i&&o.match(/^\d+$/))return c;u=JSON.stringify(""+o),u.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+c}function l(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function h(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return null==e}function d(e){return"number"==typeof e}function b(e){return"string"==typeof e}function m(e){return"symbol"==typeof e}function w(e){return void 0===e}function O(e){return _(e)&&"[object RegExp]"===M(e)}function _(e){return"object"==typeof e&&null!==e}function j(e){return _(e)&&"[object Date]"===M(e)}function x(e){return _(e)&&("[object Error]"===M(e)||e instanceof Error)}function E(e){return"function"==typeof e}function P(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function M(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}function T(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}function R(t){function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,u=function(){return o.apply(i,arguments)};t.apply(this,n).then(function(t){e.nextTick(u,null,t)},function(t){e.nextTick(k,t,u)})}if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,C(t)),n}var C=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},N=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(r(arguments[n]));return t.join(" ")}for(var n=1,o=arguments,i=o.length,u=String(e).replace(N,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(e){return"[Circular]"}default:return e}}),s=o[n];n<i;s=o[++n])v(s)||!_(s)?u+=" "+s:u+=" "+r(s);return u},t.deprecate=function(n,r){function o(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return o};var A,F={};t.debuglog=function(n){if(w(A)&&(A=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!F[n])if(new RegExp("\\b"+n+"\\b","i").test(A)){var r=e.pid;F[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else F[n]=function(){};return F[n]},t.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=y,t.isNull=v,t.isNullOrUndefined=g,t.isNumber=d,t.isString=b,t.isSymbol=m,t.isUndefined=w,t.isRegExp=O,t.isObject=_,t.isDate=j,t.isError=x,t.isFunction=E,t.isPrimitive=P,t.isBuffer=n(16);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n(17),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var z="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;t.promisify=function(e){function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,r){e?n(e):t(r)});try{e.apply(this,o)}catch(e){n(e)}return r}if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(z&&e[z]){var t=e[z];if("function"!=typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,z,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),z&&Object.defineProperty(t,z,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,C(e))},t.promisify.custom=z,t.callbackify=R}).call(t,n(15))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(1),s=function(e){function t(t,n){var r=e.call(this,u.MessageType.invoke)||this;return r.path=t,r.args=n,r}return r(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return o({path:this.path,args:this.args},t)},t}(i.Message);t.InvokeMessage=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),u=n(1),s=n(5),c=function(e){function t(t,n){var r=e.call(this,u.MessageType.return,n)||this;return t instanceof Error||t instanceof s.InvokeError?r.error=t:r.result=t,r}return r(t,e),t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return o({result:this.result,error:this.error},t)},t}(i.Message);t.ReturnMessage=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),u=function(e){function t(t){void 0===t&&(t={});var n=this;if(t=o({},t),t.url){var r=document.createElement("iframe");r.src=t.url,r.addEventListener("load",function(){return n.emit("ready")}),r.style.display="none",document.body.appendChild(r),t.sender=r.contentWindow}else t.sender=window.parent;return n=e.call(this,t)||this,n.options=t,n}return r(t,e),t.prototype.checkMessage=function(e,t){var n=this.options.origins,r=void 0===n?[]:n;return!r||r.length<1||r.indexOf(t.origin)>-1},t}(i.Channel);t.IframeChannel=u},function(e,t,n){e.exports=n(11)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(2)),r(n(9)),r(n(7)),r(n(0)),r(n(1)),r(n(8)),r(n(9)),r(n(3))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){console&&console.warn&&console.warn(e)}function o(){o.init.call(this)}function i(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,n,o){var u,s,c;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(s=e._events,void 0===s?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),c=s[t]),void 0===c)c=s[t]=n,++e._eventsCount;else if("function"==typeof c?c=s[t]=o?[n,c]:[c,n]:o?c.unshift(n):c.push(n),(u=i(e))>0&&c.length>u&&!c.warned){c.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=c.length,r(a)}return e}function s(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,g(this.listener,this.target,e))}function c(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=s.bind(r);return o.listener=n,r.wrapFn=o,o}function a(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?h(o):p(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function l(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function h(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}var y,v="object"==typeof Reflect?Reflect:null,g=v&&"function"==typeof v.apply?v.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};y=v&&"function"==typeof v.ownKeys?v.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var d=Number.isNaN||function(e){return e!==e};e.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var b=10;Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(e){if("number"!=typeof e||e<0||d(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");b=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||d(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return i(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var u=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw u.context=i,u}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)g(s,this,t);else for(var c=s.length,a=p(s,c),n=0;n<c;++n)g(a[n],this,t);return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,c(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,c(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,o,i,u;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){u=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():l(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,u||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return a(this,e,!0)},o.prototype.rawListeners=function(e){return a(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]}},function(e,t){e.exports=function(){}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function u(){v&&h&&(v=!1,h.length?y=h.concat(y):g=-1,y.length&&s())}function s(){if(!v){var e=o(u);v=!0;for(var t=y.length;t;){for(h=y,y=[];++g<t;)h&&h[g].run();g=-1,t=y.length}h=null,v=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function a(){}var f,p,l=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var h,y=[],v=!1,g=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];y.push(new c(e,t)),1!==y.length||v||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.prependListener=a,l.prependOnceListener=a,l.listeners=function(e){return[]},l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}}])});
//# sourceMappingURL=index.js.map